(this.webpackJsonptreehacks2020=this.webpackJsonptreehacks2020||[]).push([[0],{39:function(e,t,a){e.exports=a(72)},44:function(e,t,a){},61:function(e,t,a){},64:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),c=a(23),i=a.n(c),l=(a(44),a(12)),s=a(4),u=a.n(s),m=(a(29),a(45),function(e){var t={name:e.displayName,email:e.email,emailverified:e.emailVerified,anon:e.isAnonymous,id:e.uid};return localStorage.setItem("user",JSON.stringify(t)),t}),d=function(){(n=s.firestore()).enablePersistence().catch((function(e){"failed-precondition"===e.code||e.code}))},p={check:function(e){s.auth().onAuthStateChanged((function(t){t&&m(t),e(t)}))}},f=function(e){console.log(e),n.collection("users").doc(JSON.parse(localStorage.getItem("user")).id).set(e).then((function(){console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},h=function(){s.auth().signOut().then((function(){localStorage.clear(),window.location.reload()}))},E=a(19),v=a.n(E),b=a(24),g=(a(60),a(61),function(){return Object(r.useEffect)((function(){(b.a.AuthUI.getInstance()||new b.a.AuthUI(v.a.auth())).start("#auth-container",{signInOptions:[v.a.auth.GoogleAuthProvider.PROVIDER_ID,v.a.auth.FacebookAuthProvider.PROVIDER_ID,v.a.auth.EmailAuthProvider.PROVIDER_ID]})})),o.a.createElement("div",{className:"login-wrapper"},o.a.createElement("div",{id:"auth-container"}))}),O=a(14),w=a(20),j=a(9),S=a(25),N=a.n(S),x=(a(63),a(64),function(e){var t=e.domain,a=e.setDomain,n=function(e){var n=e.target.name,r=Object(w.a)(t);r[n]=Number(e.target.value),a(r)};return o.a.createElement("p",null,"Domain: [",o.a.createElement("input",{type:"text",name:"0",value:t[0],onChange:n}),",",o.a.createElement("input",{type:"text",name:"1",value:t[1],onChange:n}),"]")}),I=Object(l.g)((function(e){var t=e.history,a=Object(r.useState)(""),n=Object(j.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(new Set),s=Object(j.a)(l,2),u=s[0],m=s[1],d=Object(r.useState)(""),p=Object(j.a)(d,2),h=p[0],E=p[1],v=Object(r.useState)(""),b=Object(j.a)(v,2),g=b[0],O=b[1],S=Object(r.useState)([-10,10]),I=Object(j.a)(S,2),k=I[0],y=I[1],C=Object(r.useState)([-10,10]),A=Object(j.a)(C,2),D=A[0],R=A[1],V=Object(r.useState)(null),z=Object(j.a)(V,2),J=z[0],P=z[1],L=Object(r.useState)(!1),F=Object(j.a)(L,2),B=F[0],M=F[1];Object(r.useEffect)((function(){for(var e=new Set,t=0;t<c.length;t++){var a=c.charAt(t);a.toLowerCase()!==a.toUpperCase()&&"i"!==a&&"e"!==a&&e.add(a)}m(e)}),[c]),Object(r.useEffect)((function(){if(""!==h&&""!==g){var e=Object(w.a)(u),t={},a=e.indexOf(h);e.splice(a,1),a=e.indexOf(g),e.splice(a,1),e.forEach((function(e){t[e]=0})),P(t)}}),[h,g,u]);return o.a.createElement("div",{className:"form"},o.a.createElement("h3",null,"Create a visual"),o.a.createElement("p",null,"Expression:"),o.a.createElement("input",{type:"text",value:c,onChange:function(e){i(e.target.value)},placeholder:"Ex.) x + y + z"}),o.a.createElement("div",{className:"free-vars"},o.a.createElement("h3",null,"Free Variables"),o.a.createElement("div",{className:"dropdown-wrapper"},o.a.createElement("label",null,"Var 1:"),o.a.createElement(N.a,{options:Object(w.a)(u),onChange:function(e){E(e.value)},value:h,placeholder:"Select an option"}),o.a.createElement("span",null,"\u2514\u2500"),o.a.createElement(x,{domain:k,setDomain:y})),o.a.createElement("div",{className:"dropdown-wrapper"},o.a.createElement("label",null,"Var 2:"),o.a.createElement(N.a,{options:Object(w.a)(u),onChange:function(e){O(e.value)},value:g,placeholder:"Select an option"}),o.a.createElement("span",null,"\u2514\u2500"),o.a.createElement(x,{domain:D,setDomain:R}))),o.a.createElement("div",{className:"free-vars"},o.a.createElement("h3",null,"Fixed Variables"),null!==J&&o.a.createElement("div",null,JSON.stringify(J))),o.a.createElement("button",{onClick:function(){f({eq:c,var1:h,var2:g,v1dom:k,v2dom:D,fixed:J}),M(!0)}},"submit"),B&&o.a.createElement("button",{onClick:function(){t.push("./view/"+JSON.parse(localStorage.getItem("user")).id)}},"join room"),o.a.createElement("br",null),B&&o.a.createElement("div",{className:"confirmed"},"Room Link: ",JSON.parse(localStorage.getItem("user")).id))})),k=a(3),y=a(37),C=a(38),A=(a(69),Object(l.g)((function(e){var t=e.history,a=Object(r.useState)(""),n=Object(j.a)(a,2),c=n[0],i=n[1],l=Object(r.useRef)(null),s=Object(r.useState)(!0),u=Object(j.a)(s,2);u[0],u[1],Object(r.useRef)(null);return Object(r.useEffect)((function(){var e,t=l.current.clientWidth,a=l.current.clientHeight,n=new k.Scene,r=new k.PerspectiveCamera(75,t/a,.1,1e3),o=new k.WebGLRenderer({antialias:!0}),c=new k.BoxGeometry(1,1,1),i=new k.MeshBasicMaterial({color:16711935}),s=new k.Mesh(c,i),u=new C.a(r,o.domElement);r.position.z=4,o.setClearColor("#000000");var m=new k.AmbientLight(16777215,1.2);n.add(m),o.setSize(t,a),(new y.OBJLoader).load("https://hidden-eyrie-79468.herokuapp.com/output.obj",(function(e){e.traverse((function(e){e instanceof k.Mesh&&e.material.color.setHex(10066329)})),e.position.y=0,e.position.x=0,n.add(e)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"+e)}));var d=function(){o.render(n,r)},p=function(){t=l.current.clientWidth,a=l.current.clientHeight,o.setSize(t,a),r.aspect=t/a,r.updateProjectionMatrix(),d()},f=function t(){s.rotation.x+=.01,s.rotation.y+=.01,d(),e=window.requestAnimationFrame(t)},h=function(){e||(e=requestAnimationFrame(f))},E=function(){cancelAnimationFrame(e),e=null};return l.current.appendChild(o.domElement),window.addEventListener("resize",p),h(),u.current={start:h,stop:E},function(){E(),window.removeEventListener("resize",p),l.current.removeChild(o.domElement),n.remove(s),c.dispose(),i.dispose()}}),[]),Object(r.useEffect)((function(){void 0===t.entries[2]||i(t.entries[2].pathname.split("/")[2])}),[t]),Object(r.useEffect)((function(){}),[c]),o.a.createElement("div",{className:"view",ref:l})}))),D=(a(70),function(){return o.a.createElement(l.a,{initialEntries:["/start","/form","/view"],initialIndex:0},o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/start"},o.a.createElement("div",{className:"start-header"},o.a.createElement("div",{className:"greeting"},"Hello, ",JSON.parse(localStorage.getItem("user")).name),o.a.createElement("div",{className:"logout",onClick:function(){h()}},"logout")),o.a.createElement("div",{className:"start-wrapper"},"Welcome to ",o.a.createElement("span",null,"Morphvism"),"!",o.a.createElement("div",{className:"box-holder"},o.a.createElement(O.a,{to:"/form"},o.a.createElement("div",{className:"box"},o.a.createElement("p",null,"Start a new room"),o.a.createElement("h3",null,"Create New"))),o.a.createElement(O.a,{to:"/view"},o.a.createElement("div",{className:"box"},o.a.createElement("p",null,"Visualize a current room"),o.a.createElement("h3",null,"Join Room")))))),o.a.createElement(l.b,{exact:!0,path:"/form",component:I}),o.a.createElement(l.b,{path:"/view"},o.a.createElement(A,null))))});a(71);var R=Object(l.g)((function(e){var t=e.history;return Object(r.useEffect)((function(){d(),p.check((function(e){t.push(e?"/app":"/login")}))}),[t]),o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/"}),o.a.createElement(l.b,{path:"/login"},o.a.createElement(g,null)),o.a.createElement(l.b,{path:"/app"},o.a.createElement(D,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.initializeApp({apiKey:"AIzaSyA8zmIV78Prur4OFUNXklEgCrV3TkI38Q8",authDomain:"treehacks-d9130.firebaseapp.com",databaseURL:"https://treehacks-d9130.firebaseio.com",projectId:"treehacks-d9130",storageBucket:"treehacks-d9130.appspot.com",messagingSenderId:"959568977585",appId:"1:959568977585:web:f409050a81fc1756018c90"}),i.a.render(o.a.createElement(l.a,{initialEntries:["/","/login","/app"],initialIndex:0},o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.5fe24eee.chunk.js.map